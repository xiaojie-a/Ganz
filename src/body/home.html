<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap-5.1.0-dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <script src="bootstrap-5.1.0-dist/js/bootstrap.min.js"></script>
    <title>Document</title>
    <style>
        :root {
            --sh: 83px;
            --bw: 900px;
            --bh: 470px;
        }

        body {
            margin: 0;
            width: 100%;
            height: 100vh;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -khtml-user-select: none;
            user-select: none;


            /*            justify-content: center;*/


        }

        .div-small-img-list {
            /*            width: calc(var(--bw) + 50px);*/
            height: var(--sh);
            display: flex;
            justify-content: space-evenly;
            align-items: flex-end;

        }

        .div-small-img {
            cursor: pointer;

        }

        .defaultSmallImg {
            width: calc(var(--bw)/6);
            opacity: 1;
            transition: 0.5s;
            border-radius: 10px;
        }

        .defaultSmallImg:hover {
            box-shadow: 2px 4px 6px #DBDBDB;
        }

        .moveSmallImg {
            opacity: 0;
            transform: translateY(-130px);
        }

        .div-big-img:hover {
            cursor: pointer;

        }

        .div-big-img {
            width: 100%;
            aspect-ratio: 10/6;
            margin: 0 auto;
            background-image: url(./1.jpeg);
            background-size: cover;
            transition: 2s;
        }

        .div-carousel {
            width: calc(100% - 22px);
        }

        #c2 {
            width: 100px;
            height: 100px;
            border: 1px solid #000;
            float: left;
            transition: width 1s, height 1s, background-color 1s, border 1s, opacity 1s, left 1s, top 1s;
            transition-timing-function: ease;
            background-image: url(https://tse3-mm.cn.bing.net/th/id/OIP-C.c62RlozPymutha7yUymNjAHaHa?w=210&h=210&c=7&r=0&o=5&pid=1.7);
            background-size: 100%;
            opacity: 1;
        }

        #app {
            width: calc(100% - 55px);
            display: flex;
            /* 启用 Flex 布局 */
            justify-content: space-between;
            /* 图片均匀分布，两端对齐 */
            align-items: center;
            /* 垂直居中（可选） */
            gap: 5px;
            /* 图片间距（推荐方式） */
            flex-wrap: wrap;
            /* 允许换行（如果图片太多） */
        }

        #bodys {
            width: calc(100% - 55px);
            margin-left: 20px;
        }

        .jx {
            border: 1px solid #DBDBDB;
            width: 180px;
            height: 300px;
            float: left;
            margin-left: 35px;
            border-radius: 20px;
            transition: box-shadow 0.5s, height 0.5s, transform 0.3s;
            background-color: #fff;
            overflow: hidden;

        }

        .jx:hover {
            cursor: pointer;
            box-shadow: 2px 4px 6px #DBDBDB;

            transform: scale(1.01);
        }

        .qb:hover {
            cursor: pointer;
            box-shadow: 2px 4px 6px #DBDBDB;

            transform: scale(1.01);
        }

        .xzan {

            width: 90%;
            height: 30px;
            margin-left: 5px;

            background-image: url(img/xz.png);

        }

        .jx:active {
            transform: scale(0.99);
        }

        .qb:active {
            transform: scale(0.99);
        }

        .qb {
            float: left;
            width: 180px;
            height: 100px;
            border: 1px solid #DBDBDB;
            border-radius: 20px;
            margin-left: 30px;
            margin-top: 1%;
            margin-bottom: 20%;
            transition: box-shadow 0.5s, transform 0.3s;
        }

        #xx {
            z-index: 1000;
            border-radius: 2rem
        }

        .modal.fade {
            top: 20px;
            /* 根据需要调整 */
        }
    </style>
</head>

<body>

    <div class="div-carousel">
        <a href="1.html" id="lft" ondragstart="return false">
            <div class="div-big-img"></div>
        </a>
        <div class="div-small-img-list">
            <div class="div-small-img"><img src="1.jpeg" alt="" class="defaultSmallImg" draggable="false"></div>
            <div class="div-small-img"><img src="2.jpeg" alt="" class="defaultSmallImg" draggable="false"></div>
            <div class="div-small-img"><img src="3.jpeg" alt="" class="defaultSmallImg" draggable="false"></div>
            <div class="div-small-img"><img src="4.jpeg" alt="" class="defaultSmallImg" draggable="false"></div>
            <div class="div-small-img"><img src="5.jpeg" alt="" class="defaultSmallImg" draggable="false"></div>

        </div>
    </div>
    <div id="bodys">
        <h2>精选应用</h2>
    </div>
    <div id="app">
        <template v-for="(item, index) in items.jx">
            <div class="jx" type="button" class="btn btn-primary" data-bs-toggle="modal"
                :data-bs-target="'#myModal' + index"><img :src="item" style="width: 100%" draggable="false">
                <div class="xzan"></div>
            </div>



            <!-- 模态框 -->

            <div class="modal fade" :id="'myModal' + index">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- 模态框头部 -->
                        <div class="modal-header">
                            <h6 class="modal-title">点击下方复制按钮在浏览器进行下载（百度网盘）</h6>

                        </div>
                        <!-- 模态框内容 -->
                        <div class="modal-body">
                            <h6 :id="'textToCopy' + index">{{ items.url[index] }}</h6>
                        </div>

                        <!-- 模态框底部 -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                                @click="copyText(index)">复制链接</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>

                        </div>
                    </div>
                </div>
            </div>
            <div id="xx" class="position-fixed bottom-0 end-0 p-3">
                <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <strong class="me-auto">内部消息</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                        恭喜您复制成功，快去浏览器下载吧！
                    </div>
                </div>
            </div>
        </template>
        <div id="bodys">
            <h2>全部应用</h2>
        </div>
        <template v-for="(item, index) in items.qb">
            <div class="qb" type="button" class="btn btn-primary" data-bs-toggle="modal"
                :data-bs-target="'#myModa' + index"><img :src="item" style="width: 100%" draggable="false"></div>
            <div class="modal fade" :id="'myModa' + index">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <!-- 模态框头部 -->
                        <div class="modal-header">
                            <h6 class="modal-title">点击下方复制按钮在浏览器进行下载（百度网盘）</h6>

                        </div>
                        <!-- 模态框内容 -->
                        <div class="modal-body">
                            <h6 :id="'textToCopy' + index">{{ items.qburl[index] }}</h6>
                        </div>

                        <!-- 模态框底部 -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-danger" data-bs-dismiss="modal"
                                @click="copyText(index)">复制链接</button>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>

                        </div>
                    </div>
                </div>
            </div>
        </template>
    </div>





    <script>

        // import Vue from 'vue';
        function getLocalStorageParams() {
            const adb4 = sessionStorage.getItem('adb2');
            new Vue({
                el: '#app',
                data: function () {
                    return {
                        items: JSON.parse(adb4),
                    }
                },
                methods: {
                    copyText(index) {


                        const text = document.getElementById('textToCopy' + index).textContent;
                        navigator.clipboard.writeText(text).then(function () {

                            var toast = new bootstrap.Toast(document.getElementById('toast'));
                            toast.show();

                        }).catch(function (err) {
                            console.error('无法复制文本：', err);
                            alert('无法复制文本，请手动复制。');
                        });


                    },
                }

            });
            console.log(JSON.parse(adb4));
        }

        window.onload = function () {
            setTimeout(getLocalStorageParams, 20); // 5000毫秒等于5秒
        };
    </script>









    <script>
        let imgIndex = 0                //轮番图动画
        let process
        let img = document.querySelectorAll('.div-small-img img')
        let bigImage = document.querySelector('.div-big-img')
        function showImg(index) {
            // Сͼ�ָ�Ĭ��״̬
            for (let i = 0; i < img.length; i++) {
                img[i].className = 'defaultSmallImg'
            }
            // ��ǰλ�Ƶ�СͼƬ
            img[index].className = 'defaultSmallImg moveSmallImg'
            // ��ͼƬ��ʾ
            bigImage.style.backgroundImage = `url('${index + 1}.jpeg')`
            document.getElementById('lft').href = index + 1 + ".html";
        }
        // ��ʼ�ֲ�
        function startToggle() {
            process = setInterval(function () {
                imgIndex = imgIndex + 1
                if (imgIndex == 5) {
                    imgIndex = 0
                }
                showImg(imgIndex)
            }, 4000)
        }
        // ����Сͼ�ĵ����Ӧ�¼�
        for (let i = 0; i < img.length; i++) {
            img[i].onclick = function () {
                clearInterval(process)
                imgIndex = i
                showImg(i)
                startToggle()
            }
        }

        // ���������ڴ�ͼ����ʱ��ֹͣ�ֲ�
        bigImage.onmouseover = function () {
            clearInterval(process)
        }
        bigImage.onmouseout = function () {
            startToggle()
        }
        localStorage.clear();
        // function btnAction(){

        //    console.log('以允许')

        //  localStorage.setItem("msg",100);


        //  }

    </script>

</body>

</html>